!function(n){var t=n(window),o=t.height();t.resize(function(){o=t.height()}),n.fn.parallax=function(i,e,r){var u,h=n(this);function l(){var r=t.scrollTop();h.each(function(){var t=n(this),l=t.offset().top;l+u(t)<r||l>r+o||h.css("backgroundPosition",i+" "+Math.round((l-r)*e)+"px")})}h.each(function(){h.offset().top}),u=r?function(n){return n.outerHeight(!0)}:function(n){return n.height()},(arguments.length<1||null===i)&&(i="50%"),(arguments.length<2||null===e)&&(e=.1),(arguments.length<3||null===r)&&(r=!0),t.bind("scroll",l).resize(l),l()}}(jQuery);